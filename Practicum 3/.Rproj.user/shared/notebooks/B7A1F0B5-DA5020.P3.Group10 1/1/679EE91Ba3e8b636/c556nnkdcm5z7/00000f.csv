"0","# Remove rows with missing values in key columns"
"0","taxi_data_clean <- taxi_data %>%"
"0","  filter(!is.na(VendorID), "
"0","         !is.na(RatecodeID), "
"0","         !is.na(passenger_count), "
"0","         !is.na(payment_type), "
"0","         !is.na(trip_type), "
"0","         !is.na(congestion_surcharge)) %>%"
"0","  # Remove rows with negative fare, extra, mta_tax, improvement_surcharge, and total_amount as they are inconsistent with data dictionary"
"0","  filter(fare_amount >= 0, "
"0","         extra >= 0, "
"0","         mta_tax >= 0, "
"0","         improvement_surcharge >= 0, "
"0","         total_amount >= 0) %>%"
"0","  # Remove potential outliers (for now, anything outside 99th percentile)"
"0","  filter(fare_amount <= quantile(fare_amount, 0.99),"
"0","         extra <= quantile(extra, 0.99),"
"0","         mta_tax <= quantile(mta_tax, 0.99),"
"0","         tip_amount <= quantile(tip_amount, 0.99),"
"0","         tolls_amount <= quantile(tolls_amount, 0.99),"
"0","         total_amount <= quantile(total_amount, 0.99)) |> "
"0","  select(- ehail_fee) # removing ehail_fee column"
"0",""
"0","summary(taxi_data_clean)"
"1",""
"1","    VendorID    "
"1"," lpep_pickup_datetime"
"1"," lpep_dropoff_datetime"
"1"," store_and_fwd_flag"
"1","   RatecodeID    "
"1","  PULocationID  "
"1","
"
"1"," Min.   :1.000  "
"1"," Length:309065       "
"1"," Length:309065        "
"1"," Length:309065     "
"1"," Min.   : 1.000  "
"1"," Min.   :  1.0  "
"1","
"
"1"," 1st Qu.:2.000  "
"1"," Class :character    "
"1"," Class :character     "
"1"," Class :character  "
"1"," 1st Qu.: 1.000  "
"1"," 1st Qu.: 49.0  "
"1","
"
"1"," Median :2.000  "
"1"," Mode  :character    "
"1"," Mode  :character     "
"1"," Mode  :character  "
"1"," Median : 1.000  "
"1"," Median : 75.0  "
"1","
"
"1"," Mean   :1.837  "
"1","                     "
"1","                      "
"1","                   "
"1"," Mean   : 1.087  "
"1"," Mean   :103.9  "
"1","
"
"1"," 3rd Qu.:2.000  "
"1","                     "
"1","                      "
"1","                   "
"1"," 3rd Qu.: 1.000  "
"1"," 3rd Qu.:152.0  "
"1","
"
"1"," Max.   :2.000  "
"1","                     "
"1","                      "
"1","                   "
"1"," Max.   :99.000  "
"1"," Max.   :265.0  "
"1","
"
"1",""
"1","  DOLocationID  "
"1"," passenger_count"
"1"," trip_distance     "
"1","  fare_amount   "
"1","     extra       "
"1","    mta_tax      "
"1","
"
"1"," Min.   :  1.0  "
"1"," Min.   :0.000  "
"1"," Min.   :    0.00  "
"1"," Min.   : 0.00  "
"1"," Min.   :0.0000  "
"1"," Min.   :0.0000  "
"1","
"
"1"," 1st Qu.: 65.0  "
"1"," 1st Qu.:1.000  "
"1"," 1st Qu.:    0.93  "
"1"," 1st Qu.: 6.00  "
"1"," 1st Qu.:0.0000  "
"1"," 1st Qu.:0.5000  "
"1","
"
"1"," Median :129.0  "
"1"," Median :1.000  "
"1"," Median :    1.61  "
"1"," Median : 9.00  "
"1"," Median :0.0000  "
"1"," Median :0.5000  "
"1","
"
"1"," Mean   :129.7  "
"1"," Mean   :1.311  "
"1"," Mean   :    2.44  "
"1"," Mean   :11.22  "
"1"," Mean   :0.3881  "
"1"," Mean   :0.4889  "
"1","
"
"1"," 3rd Qu.:193.0  "
"1"," 3rd Qu.:1.000  "
"1"," 3rd Qu.:    2.97  "
"1"," 3rd Qu.:13.75  "
"1"," 3rd Qu.:0.5000  "
"1"," 3rd Qu.:0.5000  "
"1","
"
"1"," Max.   :265.0  "
"1"," Max.   :8.000  "
"1"," Max.   :12467.88  "
"1"," Max.   :52.00  "
"1"," Max.   :3.2500  "
"1"," Max.   :0.5000  "
"1","
"
"1",""
"1","   tip_amount   "
"1","  tolls_amount    "
"1"," improvement_surcharge"
"1","  total_amount  "
"1","  payment_type  "
"1","   trip_type    "
"1","
"
"1"," Min.   :0.000  "
"1"," Min.   :0.00000  "
"1"," Min.   :0.0000       "
"1"," Min.   : 0.00  "
"1"," Min.   :1.000  "
"1"," Min.   :1.000  "
"1","
"
"1"," 1st Qu.:0.000  "
"1"," 1st Qu.:0.00000  "
"1"," 1st Qu.:0.3000       "
"1"," 1st Qu.: 8.16  "
"1"," 1st Qu.:1.000  "
"1"," 1st Qu.:1.000  "
"1","
"
"1"," Median :0.000  "
"1"," Median :0.00000  "
"1"," Median :0.3000       "
"1"," Median :11.30  "
"1"," Median :1.000  "
"1"," Median :1.000  "
"1","
"
"1"," Mean   :1.129  "
"1"," Mean   :0.09264  "
"1"," Mean   :0.2976       "
"1"," Mean   :14.04  "
"1"," Mean   :1.454  "
"1"," Mean   :1.021  "
"1","
"
"1"," 3rd Qu.:2.000  "
"1"," 3rd Qu.:0.00000  "
"1"," 3rd Qu.:0.3000       "
"1"," 3rd Qu.:17.30  "
"1"," 3rd Qu.:2.000  "
"1"," 3rd Qu.:1.000  "
"1","
"
"1"," Max.   :8.000  "
"1"," Max.   :6.12000  "
"1"," Max.   :0.3000       "
"1"," Max.   :59.80  "
"1"," Max.   :5.000  "
"1"," Max.   :2.000  "
"1","
"
"1",""
"1"," congestion_surcharge"
"1","
"
"1"," Min.   :0.0000      "
"1","
"
"1"," 1st Qu.:0.0000      "
"1","
"
"1"," Median :0.0000      "
"1","
"
"1"," Mean   :0.4538      "
"1","
"
"1"," 3rd Qu.:0.0000      "
"1","
"
"1"," Max.   :2.7500      "
"1","
"
"0","cor(taxi_data_clean %>% select_if(is.numeric), use = ""pairwise.complete.obs"")"
"1","                     "
"1","     VendorID"
"1","    RatecodeID"
"1"," PULocationID"
"1"," DOLocationID"
"1"," passenger_count"
"1"," trip_distance"
"1","
VendorID             "
"1","  1.000000000"
"1"," -0.0323212354"
"1"," -0.025207309"
"1","   0.01012410"
"1","    0.0879905383"
"1","  0.0080136792"
"1","
RatecodeID           "
"1"," -0.032321235"
"1","  1.0000000000"
"1","  0.069015482"
"1","   0.03492423"
"1","   -0.0073042259"
"1","  0.0178537038"
"1","
PULocationID         "
"1"," -0.025207309"
"1","  0.0690154817"
"1","  1.000000000"
"1","   0.17413646"
"1","    0.0122549007"
"1","  0.0063135225"
"1","
DOLocationID         "
"1","  0.010124096"
"1","  0.0349242250"
"1","  0.174136459"
"1","   1.00000000"
"1","    0.0114231506"
"1","  0.0156929129"
"1","
passenger_count      "
"1","  0.087990538"
"1"," -0.0073042259"
"1","  0.012254901"
"1","   0.01142315"
"1","    1.0000000000"
"1"," -0.0001244176"
"1","
trip_distance        "
"1","  0.008013679"
"1","  0.0178537038"
"1","  0.006313522"
"1","   0.01569291"
"1","   -0.0001244176"
"1","  1.0000000000"
"1","
fare_amount          "
"1"," -0.049064589"
"1","  0.0834284820"
"1","  0.090827292"
"1","   0.13446589"
"1","   -0.0108418152"
"1","  0.0842187889"
"1","
extra                "
"1"," -0.201316684"
"1"," -0.1010251164"
"1","  0.006980813"
"1","   0.05906520"
"1","   -0.0115985116"
"1","  0.0042670578"
"1","
mta_tax              "
"1","  0.037059149"
"1"," -0.8874748533"
"1"," -0.072374501"
"1","  -0.03543905"
"1","    0.0091190053"
"1"," -0.0168249737"
"1","
tip_amount           "
"1","  0.066434407"
"1"," -0.0363847577"
"1","  0.020734718"
"1","   0.13392217"
"1","    0.0067091670"
"1","  0.0291371223"
"1","
tolls_amount         "
"1"," -0.026273678"
"1","  0.0003531528"
"1","  0.028455376"
"1","   0.02347976"
"1","   -0.0059682173"
"1","  0.0292899051"
"1","
improvement_surcharge"
"1","  0.128938913"
"1"," -0.4742162918"
"1"," -0.049552202"
"1","  -0.01983223"
"1","    0.0140916541"
"1"," -0.0021167002"
"1","
total_amount         "
"1"," -0.022767074"
"1","  0.0442624863"
"1","  0.080744109"
"1","   0.17758359"
"1","   -0.0069167605"
"1","  0.0834196611"
"1","
payment_type         "
"1"," -0.019280250"
"1","  0.0381780497"
"1"," -0.013296497"
"1","  -0.07267805"
"1","    0.0123004178"
"1"," -0.0032933216"
"1","
trip_type            "
"1"," -0.034995431"
"1","  0.8902740356"
"1","  0.069213403"
"1","   0.03194005"
"1","   -0.0071375529"
"1","  0.0013356208"
"1","
congestion_surcharge "
"1","  0.043386666"
"1"," -0.0528858819"
"1"," -0.031562647"
"1","   0.31183463"
"1","    0.0103580106"
"1","  0.0289133052"
"1","
"
"1","                     "
"1"," fare_amount"
"1","        extra"
"1","      mta_tax"
"1","   tip_amount"
"1","  tolls_amount"
"1"," improvement_surcharge"
"1","
VendorID             "
"1"," -0.04906459"
"1"," -0.201316684"
"1","  0.037059149"
"1","  0.066434407"
"1"," -0.0262736776"
"1","           0.128938913"
"1","
RatecodeID           "
"1","  0.08342848"
"1"," -0.101025116"
"1"," -0.887474853"
"1"," -0.036384758"
"1","  0.0003531528"
"1","          -0.474216292"
"1","
PULocationID         "
"1","  0.09082729"
"1","  0.006980813"
"1"," -0.072374501"
"1","  0.020734718"
"1","  0.0284553756"
"1","          -0.049552202"
"1","
DOLocationID         "
"1","  0.13446589"
"1","  0.059065203"
"1"," -0.035439053"
"1","  0.133922170"
"1","  0.0234797607"
"1","          -0.019832228"
"1","
passenger_count      "
"1"," -0.01084182"
"1"," -0.011598512"
"1","  0.009119005"
"1","  0.006709167"
"1"," -0.0059682173"
"1","           0.014091654"
"1","
trip_distance        "
"1","  0.08421879"
"1","  0.004267058"
"1"," -0.016824974"
"1","  0.029137122"
"1","  0.0292899051"
"1","          -0.002116700"
"1","
fare_amount          "
"1","  1.00000000"
"1","  0.011419750"
"1"," -0.060836049"
"1","  0.278713434"
"1","  0.2927146868"
"1","           0.018110195"
"1","
extra                "
"1","  0.01141975"
"1","  1.000000000"
"1","  0.104119427"
"1","  0.117207262"
"1"," -0.0210868207"
"1","           0.061665432"
"1","
mta_tax              "
"1"," -0.06083605"
"1","  0.104119427"
"1","  1.000000000"
"1","  0.042138781"
"1","  0.0048356121"
"1","           0.582952694"
"1","
tip_amount           "
"1","  0.27871343"
"1","  0.117207262"
"1","  0.042138781"
"1","  1.000000000"
"1","  0.0777038632"
"1","           0.045694166"
"1","
tolls_amount         "
"1","  0.29271469"
"1"," -0.021086821"
"1","  0.004835612"
"1","  0.077703863"
"1","  1.0000000000"
"1","          -0.001122611"
"1","
improvement_surcharge"
"1","  0.01811020"
"1","  0.061665432"
"1","  0.582952694"
"1","  0.045694166"
"1"," -0.0011226114"
"1","           1.000000000"
"1","
total_amount         "
"1","  0.96631702"
"1","  0.083979233"
"1"," -0.021807846"
"1","  0.479022097"
"1","  0.3502835440"
"1","           0.039598993"
"1","
payment_type         "
"1"," -0.12327374"
"1"," -0.046668834"
"1"," -0.043892570"
"1"," -0.638020243"
"1"," -0.0418501579"
"1","          -0.070764510"
"1","
trip_type            "
"1","  0.06912094"
"1"," -0.101928682"
"1"," -0.931844884"
"1"," -0.039002853"
"1"," -0.0034712457"
"1","          -0.520453292"
"1","
congestion_surcharge "
"1","  0.28608258"
"1","  0.194472269"
"1","  0.053471169"
"1","  0.388052880"
"1","  0.0042557785"
"1","           0.036051669"
"1","
"
"1","                     "
"1"," total_amount"
"1"," payment_type"
"1","    trip_type"
"1"," congestion_surcharge"
"1","
VendorID             "
"1","  -0.02276707"
"1"," -0.019280250"
"1"," -0.034995431"
"1","          0.043386666"
"1","
RatecodeID           "
"1","   0.04426249"
"1","  0.038178050"
"1","  0.890274036"
"1","         -0.052885882"
"1","
PULocationID         "
"1","   0.08074411"
"1"," -0.013296497"
"1","  0.069213403"
"1","         -0.031562647"
"1","
DOLocationID         "
"1","   0.17758359"
"1"," -0.072678051"
"1","  0.031940054"
"1","          0.311834632"
"1","
passenger_count      "
"1","  -0.00691676"
"1","  0.012300418"
"1"," -0.007137553"
"1","          0.010358011"
"1","
trip_distance        "
"1","   0.08341966"
"1"," -0.003293322"
"1","  0.001335621"
"1","          0.028913305"
"1","
fare_amount          "
"1","   0.96631702"
"1"," -0.123273737"
"1","  0.069120944"
"1","          0.286082580"
"1","
extra                "
"1","   0.08397923"
"1"," -0.046668834"
"1"," -0.101928682"
"1","          0.194472269"
"1","
mta_tax              "
"1","  -0.02180785"
"1"," -0.043892570"
"1"," -0.931844884"
"1","          0.053471169"
"1","
tip_amount           "
"1","   0.47902210"
"1"," -0.638020243"
"1"," -0.039002853"
"1","          0.388052880"
"1","
tolls_amount         "
"1","   0.35028354"
"1"," -0.041850158"
"1"," -0.003471246"
"1","          0.004255779"
"1","
improvement_surcharge"
"1","   0.03959899"
"1"," -0.070764510"
"1"," -0.520453292"
"1","          0.036051669"
"1","
total_amount         "
"1","   1.00000000"
"1"," -0.250169710"
"1","  0.030622255"
"1","          0.433252153"
"1","
payment_type         "
"1","  -0.25016971"
"1","  1.000000000"
"1","  0.037143549"
"1","         -0.178025045"
"1","
trip_type            "
"1","   0.03062226"
"1","  0.037143549"
"1","  1.000000000"
"1","         -0.051969031"
"1","
congestion_surcharge "
"1","   0.43325215"
"1"," -0.178025045"
"1"," -0.051969031"
"1","          1.000000000"
"1","
"
